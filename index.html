<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		ul {
			list-style-type: none;
			width: 100px;
			height: 300px;
			border: 1px solid #ccc;
			float: left;
		}

	</style>
</head>
<body>
	<h4>台阶算法</h4>
	<button id="btn">click</button>
	<div>
		<ul class="left">
			<li>aaa</li>
			<li>bbb</li>
			<li>ccc</li>
			<li>ddd</li>
			<li>eee</li>
		</ul>
		<ul class="right">
		</ul>
	</div>

<script src="jquery.js"></script>
<script>

$('#btn').click(function() {
	$('.left li').eq(0).prependTo('.right');
})

function way(n) {
	var cnt = 0;	//计数器
	if(n < 3) {
		return 0;
	}
	for(var i = 0; i <= n; i++) {
		for(var j = 0; j <= n; j++) {
			if( 3 * i + 5 * j === n ) {
				//i个3和j个5的排列组合问题
				if(i==0 || j == 0) {
					cnt += 1;
				}else {
					cnt += rank(i, j);
				}
				// console.log(i, j)
			}
		}
	}
	return cnt;
}

function rank(i, j) { //i个3和j个5的排列组合问题 递归算法
	return factorial(i + j) / (factorial(j) * factorial(i));
}

function factorial(n) {
	return ( n <= 1 ) ? 1 : n * arguments.callee( n-1 );
}


//递归
function way2(n) {
	if(n < 3) {
		return 0;
	}
	if(n == 3) {
		return 1;
	}
	if(n == 5) {
		return 1;
	}
	return arguments.callee(n - 3) + arguments.callee(n - 5);
}


/*for(var m = 1; m <= 100; m++) {
	console.log('普通', m, way(m));
	console.log('递归', m, way2(m));
}*/



/*
1:0
2:0
3:1   3
4:0
5:1   5
6:1   3+3
7:0
8:2   3+5 || 5+3
9:1   3+3+3
10:1  5+5
11:3   3+3+5 || 3+5+3 || 5+3+3
12:1   3+3+3+3+3
13:3   3+5+5 || 5+3+5 || 5+5+3
14:4   3+3+3+5 || 3+3+5+3 || 3+5+3+3 || 5+3+3+3
15:2    5+5+5 || 3+3+3+3+3
16:6  	5+5+3+3 || 5+3+5+3 || 3+5+3+5 || 3+3+5+5 || 5+3+3+5 || 3+5+5+3

(i+j) * (i-1+j) * (i-2+j) * ...*(1+j) / i!
*/



</script>
</body>
</html>